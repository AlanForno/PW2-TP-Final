{{>header}}
<link rel="preconnect" href="https://fonts.googleapis.com">

<link rel="stylesheet" href="public/css/pagoEstilos.css">
<link rel="stylesheet" href="../public/css/pagoEstilos.css">
<link rel="stylesheet" href="https://www.w3schools.com/lib/w3-colors-2018.css">

<!-- Fuentes -->
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200&display=swap" rel="stylesheet">
<body>
{{#error}}
<div>
    <div class="w3-panel w3-red w3-display-container w3-round" style="width: 30%; margin-left: auto; margin-right: auto">
        <span onclick="this.parentElement.style.display='none'" class="w3-button w3-hover-red w3-round-xlarge w3-display-right">X</span>
        <p class="w3-center">POR FAVOR INICIE SESION O REGISTRESE</p>

    </div>
</div>
{{/error}}
{{#exito}}
    <div>
        <div class="w3-panel w3-green w3-display-container w3-round" style="width: 30%; margin-left: auto; margin-right: auto">
            <span onclick="this.parentElement.style.display='none'" class="w3-button w3-hover-red w3-round-xlarge w3-display-right">X</span>
            <p class="w3-center">Reserva dada de baja.</p>

        </div>
    </div>
{{/exito}}
<div id="perfil-div" class="w3-container w3-card w3-content w3-center w3-padding-64 w3-text-black w3-2020-navy-blazer w3-margin-top">

    {{#infoUsuario}}
    <div class="w3-container w3-text-white w3-row" >
        <div class=" w3-topbar w3-border-top">
            <h2> {{usuario}} </h2>
            <ul style="list-style: none">
                <li>
                    Email: {{email}}
                </li>
                <li>
                    Resultado medico: {{tipoAceptado}}
                </li>
            </ul>

        </div>
        <div class="w3-table w3-bordered w3-centered w3-topbar w3-border-top w3-border-bottom">
            <table class="w3-table w3-bordered w3-centered">
                <h4>Aqui puede ver sus reservas no acreditadas y pagarlas o darlas de baja</h4>
                <tr>

                    <th>Vuelo</th>
                    <th>Origen</th>
                    <th>Destino</th>
                    <th>Fecha</th>
                    <th>Pagar</th>
                    <th>Dar de Baja</th>
                </tr>
                {{#reservasNoAcreditadas}}
                <tr>
                    <td>{{nombreVuelo}}</td>
                    <td>{{origen}}</td>
                    <td>{{destino}}</td>
                    <td>{{fecha}}</td>
                    <td><a onclick="document.getElementById('pago').style.display='block'"><i class="fas fa-receipt"></i></a></td>
                    <td><a href="/perfil/darDeBajaReserva?id={{idReserva}}&cabina={{cabina}}&asiento={{asiento}}&aeronave={{aeronave}}&idVuelo={{idVuelo}}"><i class="fas fa-minus-circle"></i></a></td>
                </tr>

                <div id="pago" class="w3-modal w3-padding-16" >
                    <div class="w3-modal-content w3-animate-top w3-card-4" style="width: 60%; margin-top: 10%;">
                        <header class="w3-container w3-blue">
                        <span onclick="document.getElementById('pago').style.display='none'"
                              class="w3-button w3-display-topright">&times;</span>
                            <h4>Introduzca los datos para acreditar el pago</h4>
                        </header>
                        <!-- Form del Pago -->
                        <div id="pago-div" class="row">
                            <div class="col-75">
                                <div class="container">

                                    <form id="pago-form" action="/perfil/acreditarPago" method="post"
                                           enctype="application/x-www-form-urlencoded">

                                        <div class="row">
                                            <div class="col-50">
                                                <h3>Billing Address</h3>
                                                <label for="fname"><i class="fa fa-user"></i> Full Name </label>
                                                <input type="text" id="fname" name="firstname" placeholder="John M. Doe">
                                                <label for="email"><i class="fa fa-envelope"></i> Email</label>
                                                <input type="text" id="email" name="email" placeholder="john@example.com">
                                                <label for="adr"><i class="fa fa-address-card-o"></i> Address</label>
                                                <input type="text" id="adr" name="address" placeholder="542 W. 15th Street">
                                                <label for="city"><i class="fa fa-institution"></i> City</label>
                                                <input type="text" id="city" name="city" placeholder="New York">
                                                <input id="prodId" name="idReserva" type="hidden" value="{{idReserva}}">

                                                <div class="row">
                                                    <div class="col-50">
                                                        <label for="state">State</label>
                                                        <input type="text" id="state" name="state" placeholder="NY">
                                                    </div>
                                                    <div class="col-50">
                                                        <label for="zip">Zip</label>
                                                        <input type="text" id="zip" name="zip" placeholder="10001">
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-50">
                                                <h3>Payment</h3>
                                                <label for="fname">Accepted Cards</label>
                                                <div class="icon-container">
                                                    <i class="fa fa-cc-visa" style="color:navy;"></i>
                                                    <i class="fa fa-cc-amex" style="color:blue;"></i>
                                                    <i class="fa fa-cc-mastercard" style="color:red;"></i>
                                                    <i class="fa fa-cc-discover" style="color:orange;"></i>
                                                </div>
                                                <label for="cname">Name on Card</label>
                                                <input type="text" id="cname" name="cardname" placeholder="John More Doe" required>
                                                <span>(obligatorio)</span>
                                                <label for="ccnum">Credit card number</label>
                                                <input type="text" id="ccnum" name="cardnumber" placeholder="1111-2222-3333-4444" required>
                                                <span>(obligatorio)</span>
                                                <label for="expmonth">Exp Month</label>
                                                <input type="text" id="expmonth" name="expmonth" placeholder="September" required>
                                                <span>(obligatorio)</span>

                                                <div class="row">
                                                    <div class="col-50">
                                                        <label for="expyear">Exp Year</label>
                                                        <input type="text" id="expyear" name="expyear" placeholder="2018" required>
                                                        <span>(obligatorio)</span>
                                                    </div>
                                                    <div class="col-50">
                                                        <label for="cvv">CVV</label>
                                                        <input type="text" id="cvv" name="cvv" placeholder="352" required>
                                                        <span>(obligatorio)</span>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                        <label>
                                            <input type="checkbox" checked="checked" name="sameadr"> Shipping address same as billing
                                        </label>

                                        <footer class="w3-container w3-light-blue w3-center">
                                            <input type="submit" class="w3-button w3-red w3-margin" value="Pagar" class="btn">

                                        </footer>
                                    </form>
                                </div>
                            </div>

                    </div>
                </div>
                {{/reservasNoAcreditadas}}
                </div>
            </table>
        </div>
        <div class="w3-table w3-bordered w3-centered w3-topbar w3-border-top">
            <table class="w3-table w3-bordered w3-centered ">
                <h4>Aqui puede ver sus reservas acreditadas y administrarlas</h4>
                <tr>

                    <th>Vuelo</th>
                    <th>Origen</th>
                    <th>Destino</th>
                    <th>Fecha</th>
                    <th>Boardin Pass</th>
                </tr>

                {{#reservasAcreditadas}}
                <tr>


                    <td>{{nombreVuelo}}</td>
                    <td>{{origen}}</td>
                    <td>{{destino}}</td>
                    <td>{{fecha}}</td>
                    <td><a href="/perfil/generarComprobante?idReserva={{idReserva}}"><i class="fas fa-file-alt"></i></a></td>
                </tr>
                {{/reservasAcreditadas}}

            </table>
        </div>
        <div class="w3-table w3-bordered w3-centered w3-topbar w3-border-top w3-border-bottom">
            <table class="w3-table w3-bordered w3-centered ">
                <h4>Aqui puede ver sus reservas En ESPERA y administrarlas</h4>
                <td>

                    <th>Vuelo</th>
                    <th>Origen</th>
                    <th>Destino</th>
                    <th>Fecha</th>
                    <th>Dar de Baja</th>
                </td>

                {{#reservasEnEspera}}
                <tr>


                    <td>{{nombreVuelo}}</td>
                    <td>{{origen}}</td>
                    <td>{{destino}}</td>
                    <td>{{fecha}}</td>

                    <td><a href="/perfil/darDeBajaReservaEnEspera?id={{id}}"><i class="fas fa-minus-circle"></i></a></td>


                </tr>
                {{/reservasEnEspera}}

            </table>
        </div>
    </div>

</div>
    {{/infoUsuario}}

</div>
</body>
<script src="third-party/jquery-3.6.0.min.js" type="text/javascript"></script>
<script src="../third-party/jquery-3.6.0.min.js" type="text/javascript"></script>
<script>
    /*$(document).ready(function() {
        $("#pago-form").validate({
            rules: {
                cname : {
                    required: true
                },
                cardnumber: {
                    required: true,
                    number: true,
                    min: 16
                },
                expmonth: {
                    required: true
                },
                expyear: {
                    required: true,
                    number: true,
                    min: 4,
                    max: 4
                    },
                cvv: {
                    required: true,
                    min: 3,
                    max: 3
                }
            },
            messages : {
                cardnumber: {
                    minlength: "Name should be at least 16 characters"
                }
            }
        });
    });

    $(document).ready(function() {
        $("#basic-form").validate({
            rules: {
                name : {
                    required: true,
                    minlength: 3
                },
                age: {
                    required: true,
                    number: true,
                    min: 18
                },
                email: {
                    required: true,
                    email: true
                },
                weight: {
                    required: {
                        depends: function(elem) {
                            return $("#age").val() > 50
                        }
                    },
                    number: true,
                    min: 0
                }
            },
            messages : {
                name: {
                    minlength: "Name should be at least 3 characters"
                },
                age: {
                    required: "Please enter your age",
                    number: "Please enter your age as a numerical value",
                    min: "You must be at least 18 years old"
                },
                email: {
                    email: "The email should be in the format: abc@domain.tld"
                },
                weight: {
                    required: "People with age over 50 have to enter their weight",
                    number: "Please enter your weight as a numerical value"
                }
            }
        });
    });
*/
</script>
{{>footer}}

